(interface)=

# Interface traffic

<meta name="description" content="Documentation for the interface monitor">

## Description

The Splunk Distribution of OpenTelemetry Collector provides this integration as the Interface traffic monitor via the Smart Agent Receiver.

The Interface plugin collects information about the traffic (octets per second), packets per second and errors of interfaces (of course number of errors during one second). If you're not interested in all interfaces but want to exclude some, or only collect information of some selected interfaces, you can select the “interesting” interfaces using the plugin's configuration.

**Note:** This monitor is deprecated in favor of the `net-io` monitor. You should switch to that monitor as this monitor will be removed in a future release of the agent.  Note that the `net-io` monitor uses the `interface` dimension to identify the network card instead of the `plugin_instance` dimension, but otherwise the metrics are the same.


<!--
## Requirements

This plugin requires:

| Software | Version |
|----------|---------|
| collectd | 1.0+    |  

-->

## Installation

This monitor is provided by the Smart Agent and is available by using the SignalFx Smart Agent Receiver in the {ref}`Splunk Distribution of OpenTelemetry Collector <otel-intro>`.

To install this integration:

1. Deploy the Splunk Distribution of OpenTelemetry Collector to your host or container platform.
2. Configure the monitor, as described in the next section.


## Configuration


The Splunk Distribution of OpenTelemetry Collector allows embedding a Smart Agent monitor configuration in an associated Smart Agent Receiver instance.

**Note:** Providing an Interface traffic monitor entry in your Smart Agent or Collector configuration is required for its use. Use the appropriate form for your agent type.

### Smart Agent

To activate this monitor in the Smart Agent, add the following to your agent configuration:
```
monitors:  # All monitor config goes under this key
 - type: collectd/interface
   ...  # Additional config
```

See <a href="https://docs.splunk.com/Observability/gdi/smart-agent/smart-agent-resources.html#configure-the-smart-agent" target="_blank">Smart Agent example configuration</a> for an autogenerated example of a YAML configuration file, with default values where applicable.

### Splunk Distribution of OpenTelemetry Collector

To activate this monitor in the Splunk Distribution of OpenTelemetry Collector, add the following to your agent configuration:

```
receivers:
  smartagent/interface:
    type: collectd/interface
    ...  # Additional config
```

To complete the monitor activation, you must also include the `smartagent/interface` receiver item in a `metrics` pipeline. To do this, add the receiver item to the `service` > `pipelines` > `metrics` > `receivers` section of your configuration file.

See <a href="https://github.com/signalfx/splunk-otel-collector/tree/main/examples" target="_blank">configuration examples</a> for specific use cases that show how the Splunk OpenTelemetry Collector can integrate and complement existing environments.

### Configuration settings

The following table shows the configuration options for this monitor:

| Option | Required | Type | Description |
| --- | --- | --- | --- |
| `excludedInterfaces` | no | `list of strings` | List of interface names to exclude from monitoring (**default:** `[/^lo\d*$/ /^docker.*/ /^t(un|ap)\d*$/ /^veth.*$/]`) |
| `includedInterfaces` | no | `list of strings` | List of all the interfaces you want to monitor, all others will be ignored.  If you set both `included` and `excludedInterfaces`, only `includedInterfaces` will be honored. |


## Metrics
The following metrics are available for this integration:

<div class="metrics-yaml" url="https://raw.githubusercontent.com/signalfx/signalfx-agent/main/pkg/monitors/collectd/netinterface/metadata.yaml"></div>

## Troubleshooting

```{include} /_includes/troubleshooting.md
```
